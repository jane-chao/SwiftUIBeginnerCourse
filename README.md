# SwiftUI å…¥é–€èª²ç¨‹
æ”¾ç½® [SwiftUI å…¥é–€èª²ç¨‹](https://www.youtube.com/playlist?list=PLXM8k1EWy5khONZ9M9ytK8mMrcEOXvGsE) çš„ç›¸é—œæª”æ¡ˆï¼Œä»¥åŠæ¯ä¸€ç« ç¯€çš„ç›¸é—œé€£çµã€å»¶ä¼¸é–±è®€ã€‚

### Chapter 1ï¼šåŸºæœ¬ä»‹ç´¹
ä»‹ç´¹ Xcode ä»‹é¢å’Œ SwiftUI çš„åŸºæœ¬æ¶æ§‹ã€‚

##### ç›¸é—œé€£çµ
* [1-1 å±•ç¤ºçš„æ‰‹æ©Ÿç‰ˆæœ¬ã€å‡ç´šè¶¨å‹¢ç¶²ç«™](https://mixpanel.com/trends)
* [1-3 ä½¿ç”¨çš„ç›¤å­åœ–ç‰‡ä¾†æº](https://www.flaticon.com/free-sticker/dinner_7603521)
* [1-5 å±•ç¤ºçš„è£ç½®è³‡è¨Šç¶²ç«™](https://iosref.com/res)
* [1-5 æ’ç‰ˆé¡å‹å»¶ä¼¸é–±è®€](http://defagos.github.io/understanding_swiftui_layout_behaviors/)
* å¦‚æœä½ å¾ UIKit éä¾†å¯èƒ½æœƒå• AppDelegate å»å“ªäº†ã€‚
è«‹æ­é…[é€™å€‹ property wrapper](https://developer.apple.com/documentation/swiftui/uiapplicationdelegateadaptor) ä½¿ç”¨ã€‚
ä¸éï¼Œå¦‚æœåªæ˜¯è¦å•Ÿå‹•æ™‚é€²è¡Œä¸€äº›æ“ä½œï¼Œåœ¨ App çš„ init ä¸­é€²è¡Œå³å¯ï¼›å¦‚æœæ˜¯ç•«é¢åˆ‡æ›ç›¸é—œäº‹ä»¶ï¼Œè«‹ç”¨ [ScenePhase](https://developer.apple.com/documentation/swiftui/scenephase)ã€‚

---

### Chapter 2ï¼šæ’ç‰ˆ
ç·´ç¿’æ’ç‰ˆå’ŒåŸºæœ¬çš„é‡æ§‹ç¨‹å¼ç¢¼ã€‚

##### ç›¸é—œé€£çµ
* [åœ¨ SwiftUI ä¸­å®ç°è§†å›¾å±…ä¸­çš„è‹¥å¹²ç§æ–¹æ³•](https://www.fatbobman.com/posts/centering_the_View_in_SwiftUI/)
* é™¤äº†å½±ç‰‡ä¸­æ­é…è¨ˆç®—å±¬æ€§ä½¿ç”¨ **@ViewBuilder**ï¼Œä½ å¯èƒ½ä¹Ÿæœƒ[åœ¨å•Ÿå‹•æˆ– closure ä¸­ä½¿ç”¨å®ƒ](https://swiftontap.com/viewbuilder)ã€‚

---

### Chapter 3ï¼šå±¬æ€§åŒ…è£
ä»‹ç´¹ SwiftUI ä¸­å¸¸ç”¨çš„å±¬æ€§åŒ…è£ï¼šStateã€Binding å’Œ Environmentï¼›ç·´ç¿’å»ºç«‹æ¸…å–®ã€è¡¨å–®ï¼Œä¸¦ä½¿ç”¨ enum æ•´ç†ç¨‹å¼ç¢¼ã€‚

##### ç›¸é—œé€£çµ
* [EnvironmentValues ç’°å¢ƒè®Šæ•¸](https://developer.apple.com/documentation/swiftui/environmentvalues)
* å½±ç‰‡ä¸­æåˆ°çš„ã€Œ**åœ¨ result builder ä¸­ï¼Œlocal è®Šæ•¸æœƒè¢«ç•¶ä½œå»ºé€ çš„ block**ã€ï¼Œè©³ç´°çš„è³‡è¨Šå¯ä»¥åœ¨é€™å€‹ [evolution è¨˜éŒ„](https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md#the-result-builder-transform)ä¸­äº†è§£ï¼Œåœ¨ *The result builder transform* çš„åˆ†é¡ä¸‹å¯ä»¥èªè­˜ result builder å°ä¸åŒèªå¥çš„åˆ¤æ–·ã€‚

---

### Chapter 4ï¼šè³‡æ–™æŒä¹…åŒ–
ä»‹ç´¹ iOS ç’°å¢ƒåŸç”Ÿçš„è³‡æ–™æŒä¹…åŒ–æ–¹å¼ä»¥åŠç·¨ç¢¼çš„æ¦‚å¿µä»‹ç´¹ï¼Œä¸¦å¯¦ä½œä¸€å€‹è¨­å®šç•«é¢ï¼Œä½¿ç”¨ AppStorage å„²å­˜å¸ƒæ—ã€enum å’Œ Array çš„è³‡æ–™ã€‚

##### ç›¸é—œé€£çµ
* [å®˜æ–¹çš„è³‡æ–™æŒä¹…åŒ–æ–‡ä»¶](https://developer.apple.com/documentation/swiftui/persistent-storage)
* [æœƒæ–°å¢ Presentation çš„èª¿æ•´å™¨](https://developer.apple.com/documentation/swiftui/view-presentation)
* å½±ç‰‡ä¸­æåˆ°å¯ä»¥å˜—è©¦**å»ºç«‹è‡ªå·±çš„ AppStorage å±¬æ€§åŒ…è£**ï¼Œå¦‚æœæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒ [SwiftLee çš„é€™ç¯‡æ–‡ç« ](https://www.avanderlee.com/swift/appstorage-explained/
)ï¼Œä¸éé€™å€‹æ˜¯å€‹ç›¸å°é€²éšçš„å…§å®¹ï¼Œä½ æœƒéœ€è¦æœ‰åŸºæœ¬ Combine æ¦‚å¿µã€äº†è§£ ObservableObject å’Œ DynamicProperty ã€‚
* ä½¿ç”¨ FileManager æ™‚ï¼Œä½ å¯èƒ½æœƒéœ€è¦çŸ¥é“[å¦‚ä½•å–å¾—æª”æ¡ˆ URL](https://chaocode.co/blog/getting-url)ã€‚

---

### Chapter 5ï¼šæ¸¬è©¦
ä»‹ç´¹æ¸¬è©¦çš„åŸºæœ¬æ¦‚å¿µã€Xcode çš„æ¸¬è©¦ä»‹é¢ä¸¦å¯¦ä½œä¸€å€‹æ¸¬è©¦ï¼Œä»¥åŠä½¿ç”¨ Measurement é€²è¡Œå–®ä½è½‰æ›ä¸¦ä¸”æ ¹æ“šä½¿ç”¨è€… Locale é¡¯ç¤ºåœ¨åœ°åŒ–çš„å–®ä½å­—ä¸²ã€‚

##### ç›¸é—œé€£çµ
* [WWDC20: åœ¨åœ°åŒ–çš„æ ¼å¼åŒ–å·¥å…·](https://developer.apple.com/videos/play/wwdc2020/10160/)ï¼Œå½±ç‰‡ä¸­ä»‹ç´¹äº†èƒ½æŠŠæ—¥æœŸã€å–®ä½ã€æ•¸å­—å’Œæ–‡å­—ç­‰ç­‰è³‡æ–™ï¼Œæ ¹æ“šä½¿ç”¨è€… Locale é€²è¡Œæ ¼å¼åŒ–çš„å·¥å…·ã€‚
* [WWDC19: æ¸¬è©¦ã€Test Planã€CICD ä»‹ç´¹](https://developer.apple.com/wwdc19/403)
* äº†è§£ [Locale](https://developer.apple.com/documentation/foundation/locale)ï¼ŒLocale ä¸¦ä¸å–®æŒ‡èªè¨€ï¼Œè€Œæ˜¯çµåˆèªè¨€åŠ ä¸Šåœ°å€ï¼Œæä¾›æ›´ç²¾ç¢ºçš„æ…£ç”¨æ³•ã€‚ä¾‹å¦‚åŒæ¨£æ˜¯è‹±æ–‡ï¼Œåœ¨ä¸åŒåœ‹å®¶å¯«æ—¥æœŸçš„é †åºä¾ç„¶æœƒæœ‰æ‰€ä¸åŒã€‚
    - åœ¨ä½ çš„ app æ²’æœ‰åšå…¶ä»–èªè¨€ä¹‹å‰ï¼Œ**Locale æœƒè¢«è¨­å®šæˆä½ çš„å°ˆæ¡ˆçš„ base language**ï¼Œè©³ç´°çš„ä»‹ç´¹å¯ä»¥çœ‹[é€™ç¯‡æ–‡ç« ](https://medium.com/swlh/know-your-language-locale-in-swift-beae4fcc5174)ï¼Œè£¡é¢ä¹Ÿæä¾›äº†`å–å¾—ä½¿ç”¨è€…åå¥½ / æ­£åœ¨ä½¿ç”¨çš„èªè¨€çš„æ–¹æ³•`ï¼Œåœ¨ä½ é‚„æ²’åšå¤šèªè¨€ä¹‹å‰ï¼Œä½ å¯ä»¥å˜—è©¦å–å¾—é€™äº›å€¼ä¾†å¼·åˆ¶ä¿®æ”¹ Localeã€‚
  
* [åœ¨ iOS16 åŠ ä¸Šå·¥å…·åˆ—çš„èƒŒæ™¯è‰²](https://sarunw.com/posts/swiftui-tabview-color/)ï¼šæ–‡ç« æ˜¯é‡å° TabBar ä»‹ç´¹ï¼Œä¸éé€™å€‹èª¿æ•´å™¨ `toolbarBackground` ä¹Ÿèƒ½ç”¨ä¾†ä¿®æ”¹ Navigation Barã€‚
* ä½ å¯èƒ½æœƒç™¼ç¾ TabBar åœ¨ iOS14 ä»¥å‰é•·å¾—ä¸ä¸€æ¨£ ğŸ¥²ï¼Œå¦‚æœä½ æƒ³è¦å…¨éƒ¨çµ±ä¸€çš„è©±å¯ä»¥åƒè€ƒ[é€™ç¯‡æ–‡ç« ä¸­çš„ç¨‹å¼ç¢¼](https://blog.personal-factory.com/2021/12/29/ios15-transparent-navigationbar-and-tabbar-by-default/)åšä¿®æ”¹ã€‚

---

### Chapter 6ï¼šç¶²è·¯å‘¼å«
ä»‹ç´¹åŸºæœ¬çš„ç¶²è·¯æ¦‚å¿µï¼Œä¸¦ä¸”ç”¨ The Cat API å¯¦ä½œç¶²è·¯å‘¼å«ï¼Œå¯¦ä½œä¸€å€‹å°ˆé–€è™•ç†ç¶²è·¯çš„ Manager ä»¥åŠè™•ç†ç›¸é—œéŒ¯èª¤ã€‚

##### ç›¸é—œé€£çµ
* 6-2 [å¸¸è¦‹ HTTP ç‹€æ…‹ç¢¼](https://developer.mozilla.org/zh-TW/docs/Web/HTTP/Status)
* 6-2 [MIME é¡å‹åç¨±å°ç…§](https://www.iana.org/assignments/media-types/media-types.xhtml)
* 6-2 [åˆ¤æ–·æ˜¯å¦ä½¿ç”¨ Cache è³‡æ–™çš„æµç¨‹åœ–](https://developer.apple.com/documentation/foundation/nsurlrequest/cachepolicy/useprotocolcachepolicy)
* 6-3 å½±ç‰‡ä¸­æåˆ°çš„[å°‡å›å‚³åŠ å…¥ cache çš„æ¢ä»¶](https://developer.apple.com/documentation/foundation/urlsessiondatadelegate/1411612-urlsession)
* 6-5 å½±ç‰‡ä¸­ä½¿ç”¨çš„[å¿«é€Ÿç”¢ç”Ÿ JSON è§£æç¨‹å¼ç¢¼çš„ç¶²ç«™](https://app.quicktype.io/)ã€‚è¦è¨˜å¾—ç”¨è‡ªå‹•ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼çš„æ™‚å€™ï¼Œä¸ç®¡å¤šç°¡å–®çš„è³‡æ–™éƒ½è¦è‡ªå·±å†æª¢æŸ¥ä¸€éå“¦
* 6-8 [StateObject çš„æ–‡ä»¶](https://developer.apple.com/documentation/swiftui/stateobject)ï¼šé€™å€‹æ–‡ä»¶ç°¡å–®ä»‹ç´¹äº†æ­é… `ObservableObject` çš„ä¸‰å€‹å±¬æ€§åŒ…è£å™¨ï¼Œä»¥åŠå®ƒå€‘çš„æ›´æ–°æ™‚æ©Ÿã€‚å»ºè­°å¤§æ¦‚é–±è®€å•Ÿå‹•å’Œæ›´æ–°çš„éƒ¨åˆ†ï¼Œç•¶æœªä¾†é‡åˆ° StateObject é‡è¤‡è¢«å•Ÿå‹•æˆ–æ˜¯æ²’æœ‰å¦‚é æœŸçš„æ›´æ–°çš„æ™‚å€™å†æ¬¡å›ä¾†é–±è®€ã€‚
* 6-8 å¦‚æœå° **StateObject å’Œ ObservedObject** çš„å·®åˆ¥æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥åƒè€ƒ onevcat çš„[é€™ç¯‡æ–‡ç« ](https://onevcat.com/2020/06/stateobject/)ã€‚
* 6-11 [onAppear å’Œ task èª¿æ•´å™¨çš„å·®åˆ¥](https://byby.dev/swiftui-task-vs-onappear)ï¼Œé€™ç¯‡æ–‡ç« æåˆ°çš„å·®åˆ¥æˆ‘è¦ºå¾—éƒ½è »é‡è¦çš„ï¼Œé™¤äº†å½±ç‰‡ä¸­æéçš„ï¼Œé‚„æœ‰é¡å¤–è¬›åˆ° task æ­é… id çš„ç”¨æ³•ã€‚
* 6-11 å¦‚æœå°æ–¼ä½¿ç”¨`Task`å’Œ`Task.detached`çš„æ™‚æ©Ÿä¸å¤ªç¢ºå®šï¼Œå¯ä»¥åƒè€ƒ[é€™ç¯‡æ–‡ç« ](https://www.donnywals.com/understanding-unstructured-and-detached-tasks-in-swift/)è£¡é¢çš„ **When to use unstructured tasks** å’Œ **When to use detached tasks**ã€‚
  ###### å¦å¤–ï¼Œç›®å‰ä¸»æµçš„åšæ³•æ˜¯é¿å…ä½¿ç”¨ detachedï¼Œé€™ä¸¦ä¸æ˜¯å› ç‚ºå®ƒä¸å¥½ï¼Œè€Œæ˜¯æ²’æœ‰ä»€éº¼éå¾—è¦ç”¨çš„åŸå› ï¼ˆi.e. æ²’å¿…è¦è®“è‡ªå·±çš„ç¨‹å¼ç¢¼è®Šè¤‡é›œï¼‰ã€‚ä¸éï¼Œæˆ‘å€‹äººè¦ºå¾— detached çš„ explicit å°æ–¼åˆæœŸæŒæ¡è‡ªå·±çš„ç¨‹å¼ç¢¼åœ¨åšä»€éº¼å¾ˆæœ‰å¹«åŠ©ï¼Œé‚„æœ‰å› ç‚ºå®ƒæ²’æœ‰ç¹¼æ‰¿è€Œç”¢ç”Ÿçš„ä¸€äº›å ±éŒ¯å’Œè­¦å‘Šä¹Ÿå°åˆæœŸå­¸ç¿’å¾ˆæœ‰å¹«åŠ©ã€‚
* 6-11 å¦‚æœæƒ³ç­è§£æ›´å¤šé—œæ–¼`onAppear`å‡ºç¾çš„æ™‚æ©Ÿï¼Œå¯ä»¥çœ‹é€™ç¯‡é—œæ–¼ [View çš„ç”Ÿå‘½é€±æœŸ](https://www.vadimbulavin.com/swiftui-view-lifecycle/) çš„æ–‡ç« ã€‚
* 6-11 å½±ç‰‡ä¸­æåˆ°çš„ï¼ŒObservableObject æœƒè®“æ•´å€‹ View é€²åˆ° MainActorï¼Œ[é€™ç¯‡æ–‡ç« ](https://oleb.net/2022/swiftui-task-mainactor/)è©³ç´°è¬›äº†é—œæ–¼ View struct ç¥ç§˜çš„ @MainActor æƒ…æ³ã€‚å†ä¸€æ¬¡å¼·èª¿ï¼Œæˆ‘è¦ºå¾—ä¸ç”¨å¤ªåœ¨æ„é€™å€‹ï¼Œé‡åˆ°é€™å€‹éŒ¯èª¤å°±ç›´æ¥æ”¹é€² MainActor ä¸­å°±å¥½ã€‚